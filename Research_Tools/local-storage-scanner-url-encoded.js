javascript:(function()%7B%2F%2F%20Local%20Storage%20Scanner%20Bookmarklet%20-%20Generates%20CSV%20of%20all%20Local%20Storage%20key%2Fvalue%20pairs%0A%2F%2F%20Usage%3A%20Copy%20this%20code%2C%20create%20a%20bookmark%2C%20and%20paste%20as%20the%20URL%0A%0A(function()%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20escape%20CSV%20values%20(handle%20commas%2C%20quotes%2C%20newlines)%0A%20%20%20%20function%20escapeCsvValue(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20null%20%7C%7C%20value%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20stringValue%20%3D%20String(value)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20value%20contains%20comma%2C%20quote%2C%20or%20newline%2C%20wrap%20in%20quotes%20and%20escape%20internal%20quotes%0A%20%20%20%20%20%20%20%20if%20(stringValue.includes('%2C')%20%7C%7C%20stringValue.includes('%22')%20%7C%7C%20stringValue.includes('%5Cn')%20%7C%7C%20stringValue.includes('%5Cr'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20'%22'%20%2B%20stringValue.replace(%2F%22%2Fg%2C%20'%22%22')%20%2B%20'%22'%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20return%20stringValue%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20get%20local%20storage%20value%20and%20type%0A%20%20%20%20function%20getLocalStorageInfo(key)%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20value%20%3D%20localStorage.getItem(key)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20value%3A%20''%2C%20type%3A%20'null'%2C%20isJson%3A%20false%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Try%20to%20parse%20as%20JSON%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parsed%20%3D%20JSON.parse(value)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20JSON.stringify(parsed)%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20typeof%20parsed%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isJson%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20originalValue%3A%20value%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(parseError)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20value%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20'string'%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isJson%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20originalValue%3A%20value%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20%60Error%3A%20%24%7Berror.message%7D%60%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20'error'%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isJson%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20originalValue%3A%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20generate%20CSV%20content%0A%20%20%20%20function%20generateCsv()%20%7B%0A%20%20%20%20%20%20%20%20const%20csvRows%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Add%20CSV%20header%0A%20%20%20%20%20%20%20%20csvRows.push('Key%2CValue%2CType%2CIs%20JSON%2COriginal%20Value')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Get%20all%20local%20storage%20keys%0A%20%20%20%20%20%20%20%20const%20keys%20%3D%20Object.keys(localStorage)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(keys.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20csvRows.push('No%20local%20storage%20data%20found')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20csvRows.join('%5Cn')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Process%20each%20local%20storage%20key%0A%20%20%20%20%20%20%20%20keys.forEach(key%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20info%20%3D%20getLocalStorageInfo(key)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Add%20row%20to%20CSV%0A%20%20%20%20%20%20%20%20%20%20%20%20csvRows.push(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(key)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(info.value)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(info.type)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(info.isJson%20%3F%20'Yes'%20%3A%20'No')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(info.originalValue)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D.join('%2C'))%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20return%20csvRows.join('%5Cn')%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20download%20CSV%20file%0A%20%20%20%20function%20downloadCsv(csvContent%2C%20filename)%20%7B%0A%20%20%20%20%20%20%20%20const%20blob%20%3D%20new%20Blob(%5BcsvContent%5D%2C%20%7B%20type%3A%20'text%2Fcsv%3Bcharset%3Dutf-8%3B'%20%7D)%3B%0A%20%20%20%20%20%20%20%20const%20link%20%3D%20document.createElement('a')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(link.download%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Modern%20browsers%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20url%20%3D%20URL.createObjectURL(blob)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.setAttribute('href'%2C%20url)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.setAttribute('download'%2C%20filename)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.style.visibility%20%3D%20'hidden'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild(link)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.click()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.removeChild(link)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Fallback%20for%20older%20browsers%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Your%20browser%20does%20not%20support%20automatic%20downloads.%20Please%20copy%20the%20CSV%20content%20manually.')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Main%20execution%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20console.log('Local%20Storage%20Scanner%20Bookmarklet%3A%20Starting%20scan...')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Generate%20CSV%20content%0A%20%20%20%20%20%20%20%20const%20csvContent%20%3D%20generateCsv()%3B%0A%20%20%20%20%20%20%20%20const%20keysCount%20%3D%20Object.keys(localStorage).length%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Show%20results%20summary%0A%20%20%20%20%20%20%20%20const%20summary%20%3D%20%60Found%20%24%7BkeysCount%7D%20local%20storage%20keys%20on%20this%20page.%5Cn%5CnCSV%20content%20generated%20successfully!%60%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Ask%20user%20for%20filename%0A%20%20%20%20%20%20%20%20const%20defaultFilename%20%3D%20%60local-storage-%24%7Bnew%20Date().toISOString().slice(0%2C%2010)%7D.csv%60%3B%0A%20%20%20%20%20%20%20%20const%20filename%20%3D%20prompt(%0A%20%20%20%20%20%20%20%20%20%20%20%20summary%20%2B%20'%5Cn%5CnEnter%20filename%20for%20CSV%20download%20(or%20press%20OK%20for%20default)%3A'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20defaultFilename%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(filename%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Download%20the%20CSV%20file%0A%20%20%20%20%20%20%20%20%20%20%20%20downloadCsv(csvContent%2C%20filename)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('Local%20Storage%20Scanner%20Bookmarklet%3A%20CSV%20downloaded%20successfully!')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Show%20success%20message%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%60CSV%20file%20%22%24%7Bfilename%7D%22%20downloaded%20successfully!%5Cn%5CnFound%20%24%7BkeysCount%7D%20local%20storage%20keys.%60)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('Local%20Storage%20Scanner%20Bookmarklet%3A%20Download%20cancelled%20by%20user.')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20console.error('Local%20Storage%20Scanner%20Bookmarklet%20Error%3A'%2C%20error)%3B%0A%20%20%20%20%20%20%20%20alert('Error%20generating%20CSV%3A%20'%20%2B%20error.message)%3B%0A%20%20%20%20%7D%0A%7D)()%3B%0A%0A%2F%2F%20Bookmarklet%20version%20(minified%20for%20URL)%3A%0A%2F%2F%20javascript%3A(function()%7B'use%20strict'%3Bfunction%20escapeCsvValue(value)%7Bif(value%3D%3D%3Dnull%7C%7Cvalue%3D%3D%3Dundefined)%7Breturn''%3B%7Dconst%20stringValue%3DString(value)%3Bif(stringValue.includes('%2C')%7C%7CstringValue.includes('%22')%7C%7CstringValue.includes('%5Cn')%7C%7CstringValue.includes('%5Cr'))%7Breturn'%22'%2BstringValue.replace(%2F%22%2Fg%2C'%22%22')%2B'%22'%3B%7Dreturn%20stringValue%3B%7Dfunction%20getLocalStorageInfo(key)%7Btry%7Bconst%20value%3DlocalStorage.getItem(key)%3Bif(value%3D%3D%3Dnull)%7Breturn%7Bvalue%3A''%2Ctype%3A'null'%2CisJson%3Afalse%7D%3B%7Dtry%7Bconst%20parsed%3DJSON.parse(value)%3Breturn%7Bvalue%3AJSON.stringify(parsed)%2Ctype%3Atypeof%20parsed%2CisJson%3Atrue%2CoriginalValue%3Avalue%7D%3B%7Dcatch(parseError)%7Breturn%7Bvalue%3Avalue%2Ctype%3A'string'%2CisJson%3Afalse%2CoriginalValue%3Avalue%7D%3B%7D%7Dcatch(error)%7Breturn%7Bvalue%3A%60Error%3A%20%24%7Berror.message%7D%60%2Ctype%3A'error'%2CisJson%3Afalse%2CoriginalValue%3A''%7D%3B%7D%7Dfunction%20generateCsv()%7Bconst%20csvRows%3D%5B%5D%3BcsvRows.push('Key%2CValue%2CType%2CIs%20JSON%2COriginal%20Value')%3Bconst%20keys%3DObject.keys(localStorage)%3Bif(keys.length%3D%3D%3D0)%7BcsvRows.push('No%20local%20storage%20data%20found')%3Breturn%20csvRows.join('%5Cn')%3B%7Dkeys.forEach(key%3D%3E%7Bconst%20info%3DgetLocalStorageInfo(key)%3BcsvRows.push(%5BescapeCsvValue(key)%2CescapeCsvValue(info.value)%2CescapeCsvValue(info.type)%2CescapeCsvValue(info.isJson%3F'Yes'%3A'No')%2CescapeCsvValue(info.originalValue)%5D.join('%2C'))%3B%7D)%3Breturn%20csvRows.join('%5Cn')%3B%7Dfunction%20downloadCsv(csvContent%2Cfilename)%7Bconst%20blob%3Dnew%20Blob(%5BcsvContent%5D%2C%7Btype%3A'text%2Fcsv%3Bcharset%3Dutf-8%3B'%7D)%3Bconst%20link%3Ddocument.createElement('a')%3Bif(link.download!%3D%3Dundefined)%7Bconst%20url%3DURL.createObjectURL(blob)%3Blink.setAttribute('href'%2Curl)%3Blink.setAttribute('download'%2Cfilename)%3Blink.style.visibility%3D'hidden'%3Bdocument.body.appendChild(link)%3Blink.click()%3Bdocument.body.removeChild(link)%3B%7Delse%7Balert('Your%20browser%20does%20not%20support%20automatic%20downloads.%20Please%20copy%20the%20CSV%20content%20manually.')%3B%7D%7Dtry%7Bconsole.log('Local%20Storage%20Scanner%20Bookmarklet%3A%20Starting%20scan...')%3Bconst%20csvContent%3DgenerateCsv()%3Bconst%20keysCount%3DObject.keys(localStorage).length%3Bconst%20summary%3D%60Found%20%24%7BkeysCount%7D%20local%20storage%20keys%20on%20this%20page.%5Cn%5CnCSV%20content%20generated%20successfully!%60%3Bconst%20defaultFilename%3D%60local-storage-%24%7Bnew%20Date().toISOString().slice(0%2C10)%7D.csv%60%3Bconst%20filename%3Dprompt(summary%2B'%5Cn%5CnEnter%20filename%20for%20CSV%20download%20(or%20press%20OK%20for%20default)%3A'%2CdefaultFilename)%3Bif(filename!%3D%3Dnull)%7BdownloadCsv(csvContent%2Cfilename)%3Bconsole.log('Local%20Storage%20Scanner%20Bookmarklet%3A%20CSV%20downloaded%20successfully!')%3Balert(%60CSV%20file%20%22%24%7Bfilename%7D%22%20downloaded%20successfully!%5Cn%5CnFound%20%24%7BkeysCount%7D%20local%20storage%20keys.%60)%3B%7Delse%7Bconsole.log('Local%20Storage%20Scanner%20Bookmarklet%3A%20Download%20cancelled%20by%20user.')%3B%7D%7Dcatch(error)%7Bconsole.error('Local%20Storage%20Scanner%20Bookmarklet%20Error%3A'%2Cerror)%3Balert('Error%20generating%20CSV%3A%20'%2Berror.message)%3B%7D%7D)()%3B%0A%7D)()%3B