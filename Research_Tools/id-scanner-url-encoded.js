javascript:(function()%7B%2F%2F%20ID%20Scanner%20Bookmarklet%20-%20Generates%20CSV%20of%20all%20ID%2FValue%20pairs%20on%20a%20page%0A%2F%2F%20Usage%3A%20Copy%20this%20code%2C%20create%20a%20bookmark%2C%20and%20paste%20as%20the%20URL%0A%0A(function()%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20escape%20CSV%20values%20(handle%20commas%2C%20quotes%2C%20newlines)%0A%20%20%20%20function%20escapeCsvValue(value)%20%7B%0A%20%20%20%20%20%20%20%20if%20(value%20%3D%3D%3D%20null%20%7C%7C%20value%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20stringValue%20%3D%20String(value)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20value%20contains%20comma%2C%20quote%2C%20or%20newline%2C%20wrap%20in%20quotes%20and%20escape%20internal%20quotes%0A%20%20%20%20%20%20%20%20if%20(stringValue.includes('%2C')%20%7C%7C%20stringValue.includes('%22')%20%7C%7C%20stringValue.includes('%5Cn')%20%7C%7C%20stringValue.includes('%5Cr'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20'%22'%20%2B%20stringValue.replace(%2F%22%2Fg%2C%20'%22%22')%20%2B%20'%22'%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20return%20stringValue%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20get%20element%20value%20based%20on%20its%20type%0A%20%20%20%20function%20getElementValue(element)%20%7B%0A%20%20%20%20%20%20%20%20const%20tagName%20%3D%20element.tagName.toLowerCase()%3B%0A%20%20%20%20%20%20%20%20const%20type%20%3D%20element.type%20%3F%20element.type.toLowerCase()%20%3A%20''%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20switch%20(tagName)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'input'%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20'checkbox'%20%7C%7C%20type%20%3D%3D%3D%20'radio')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.checked%20%3F%20'checked'%20%3A%20'unchecked'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20'file')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.files.length%20%3E%200%20%3F%20element.files%5B0%5D.name%20%3A%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.value%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'select'%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.value%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'textarea'%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.value%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'button'%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.textContent.trim()%20%7C%7C%20element.value%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20For%20other%20elements%2C%20get%20text%20content%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20element.textContent.trim()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20generate%20CSV%20content%0A%20%20%20%20function%20generateCsv()%20%7B%0A%20%20%20%20%20%20%20%20const%20elementsWithIds%20%3D%20document.querySelectorAll('%5Bid%5D')%3B%0A%20%20%20%20%20%20%20%20const%20csvRows%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Add%20CSV%20header%0A%20%20%20%20%20%20%20%20csvRows.push('ID%2CValue%2CElement%20Type%2CElement%20Tag')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Process%20each%20element%20with%20an%20ID%0A%20%20%20%20%20%20%20%20elementsWithIds.forEach(element%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20id%20%3D%20element.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20value%20%3D%20getElementValue(element)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20elementType%20%3D%20element.type%20%7C%7C%20'N%2FA'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20elementTag%20%3D%20element.tagName.toLowerCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Skip%20empty%20IDs%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!id.trim())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Add%20row%20to%20CSV%0A%20%20%20%20%20%20%20%20%20%20%20%20csvRows.push(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(id)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(value)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(elementType)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20escapeCsvValue(elementTag)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D.join('%2C'))%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20return%20csvRows.join('%5Cn')%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Function%20to%20download%20CSV%20file%0A%20%20%20%20function%20downloadCsv(csvContent%2C%20filename)%20%7B%0A%20%20%20%20%20%20%20%20const%20blob%20%3D%20new%20Blob(%5BcsvContent%5D%2C%20%7B%20type%3A%20'text%2Fcsv%3Bcharset%3Dutf-8%3B'%20%7D)%3B%0A%20%20%20%20%20%20%20%20const%20link%20%3D%20document.createElement('a')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(link.download%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Modern%20browsers%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20url%20%3D%20URL.createObjectURL(blob)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.setAttribute('href'%2C%20url)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.setAttribute('download'%2C%20filename)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.style.visibility%20%3D%20'hidden'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild(link)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20link.click()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.removeChild(link)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Fallback%20for%20older%20browsers%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Your%20browser%20does%20not%20support%20automatic%20downloads.%20Please%20copy%20the%20CSV%20content%20manually.')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Main%20execution%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20console.log('ID%20Scanner%20Bookmarklet%3A%20Starting%20scan...')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Generate%20CSV%20content%0A%20%20%20%20%20%20%20%20const%20csvContent%20%3D%20generateCsv()%3B%0A%20%20%20%20%20%20%20%20const%20elementsCount%20%3D%20document.querySelectorAll('%5Bid%5D').length%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Show%20results%20summary%0A%20%20%20%20%20%20%20%20const%20summary%20%3D%20%60Found%20%24%7BelementsCount%7D%20elements%20with%20IDs%20on%20this%20page.%5Cn%5CnCSV%20content%20generated%20successfully!%60%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20Ask%20user%20for%20filename%0A%20%20%20%20%20%20%20%20const%20defaultFilename%20%3D%20%60page-ids-%24%7Bnew%20Date().toISOString().slice(0%2C%2010)%7D.csv%60%3B%0A%20%20%20%20%20%20%20%20const%20filename%20%3D%20prompt(%0A%20%20%20%20%20%20%20%20%20%20%20%20summary%20%2B%20'%5Cn%5CnEnter%20filename%20for%20CSV%20download%20(or%20press%20OK%20for%20default)%3A'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20defaultFilename%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(filename%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Download%20the%20CSV%20file%0A%20%20%20%20%20%20%20%20%20%20%20%20downloadCsv(csvContent%2C%20filename)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('ID%20Scanner%20Bookmarklet%3A%20CSV%20downloaded%20successfully!')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Show%20success%20message%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%60CSV%20file%20%22%24%7Bfilename%7D%22%20downloaded%20successfully!%5Cn%5CnFound%20%24%7BelementsCount%7D%20elements%20with%20IDs.%60)%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('ID%20Scanner%20Bookmarklet%3A%20Download%20cancelled%20by%20user.')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20console.error('ID%20Scanner%20Bookmarklet%20Error%3A'%2C%20error)%3B%0A%20%20%20%20%20%20%20%20alert('Error%20generating%20CSV%3A%20'%20%2B%20error.message)%3B%0A%20%20%20%20%7D%0A%7D)()%3B%0A%0A%2F%2F%20Bookmarklet%20version%20(minified%20for%20URL)%3A%0A%2F%2F%20javascript%3A(function()%7B'use%20strict'%3Bfunction%20escapeCsvValue(value)%7Bif(value%3D%3D%3Dnull%7C%7Cvalue%3D%3D%3Dundefined)%7Breturn''%3B%7Dconst%20stringValue%3DString(value)%3Bif(stringValue.includes('%2C')%7C%7CstringValue.includes('%22')%7C%7CstringValue.includes('%5Cn')%7C%7CstringValue.includes('%5Cr'))%7Breturn'%22'%2BstringValue.replace(%2F%22%2Fg%2C'%22%22')%2B'%22'%3B%7Dreturn%20stringValue%3B%7Dfunction%20getElementValue(element)%7Bconst%20tagName%3Delement.tagName.toLowerCase()%3Bconst%20type%3Delement.type%3Felement.type.toLowerCase()%3A''%3Bswitch(tagName)%7Bcase'input'%3Aif(type%3D%3D%3D'checkbox'%7C%7Ctype%3D%3D%3D'radio')%7Breturn%20element.checked%3F'checked'%3A'unchecked'%3B%7Delse%20if(type%3D%3D%3D'file')%7Breturn%20element.files.length%3E0%3Felement.files%5B0%5D.name%3A''%3B%7Delse%7Breturn%20element.value%7C%7C''%3B%7Dcase'select'%3Areturn%20element.value%7C%7C''%3Bcase'textarea'%3Areturn%20element.value%7C%7C''%3Bcase'button'%3Areturn%20element.textContent.trim()%7C%7Celement.value%7C%7C''%3Bdefault%3Areturn%20element.textContent.trim()%3B%7D%7Dfunction%20generateCsv()%7Bconst%20elementsWithIds%3Ddocument.querySelectorAll('%5Bid%5D')%3Bconst%20csvRows%3D%5B%5D%3BcsvRows.push('ID%2CValue%2CElement%20Type%2CElement%20Tag')%3BelementsWithIds.forEach(element%3D%3E%7Bconst%20id%3Delement.id%3Bconst%20value%3DgetElementValue(element)%3Bconst%20elementType%3Delement.type%7C%7C'N%2FA'%3Bconst%20elementTag%3Delement.tagName.toLowerCase()%3Bif(!id.trim())%7Breturn%3B%7DcsvRows.push(%5BescapeCsvValue(id)%2CescapeCsvValue(value)%2CescapeCsvValue(elementType)%2CescapeCsvValue(elementTag)%5D.join('%2C'))%3B%7D)%3Breturn%20csvRows.join('%5Cn')%3B%7Dfunction%20downloadCsv(csvContent%2Cfilename)%7Bconst%20blob%3Dnew%20Blob(%5BcsvContent%5D%2C%7Btype%3A'text%2Fcsv%3Bcharset%3Dutf-8%3B'%7D)%3Bconst%20link%3Ddocument.createElement('a')%3Bif(link.download!%3D%3Dundefined)%7Bconst%20url%3DURL.createObjectURL(blob)%3Blink.setAttribute('href'%2Curl)%3Blink.setAttribute('download'%2Cfilename)%3Blink.style.visibility%3D'hidden'%3Bdocument.body.appendChild(link)%3Blink.click()%3Bdocument.body.removeChild(link)%3B%7Delse%7Balert('Your%20browser%20does%20not%20support%20automatic%20downloads.%20Please%20copy%20the%20CSV%20content%20manually.')%3B%7D%7Dtry%7Bconsole.log('ID%20Scanner%20Bookmarklet%3A%20Starting%20scan...')%3Bconst%20csvContent%3DgenerateCsv()%3Bconst%20elementsCount%3Ddocument.querySelectorAll('%5Bid%5D').length%3Bconst%20summary%3D%60Found%20%24%7BelementsCount%7D%20elements%20with%20IDs%20on%20this%20page.%5Cn%5CnCSV%20content%20generated%20successfully!%60%3Bconst%20defaultFilename%3D%60page-ids-%24%7Bnew%20Date().toISOString().slice(0%2C10)%7D.csv%60%3Bconst%20filename%3Dprompt(summary%2B'%5Cn%5CnEnter%20filename%20for%20CSV%20download%20(or%20press%20OK%20for%20default)%3A'%2CdefaultFilename)%3Bif(filename!%3D%3Dnull)%7BdownloadCsv(csvContent%2Cfilename)%3Bconsole.log('ID%20Scanner%20Bookmarklet%3A%20CSV%20downloaded%20successfully!')%3Balert(%60CSV%20file%20%22%24%7Bfilename%7D%22%20downloaded%20successfully!%5Cn%5CnFound%20%24%7BelementsCount%7D%20elements%20with%20IDs.%60)%3B%7Delse%7Bconsole.log('ID%20Scanner%20Bookmarklet%3A%20Download%20cancelled%20by%20user.')%3B%7D%7Dcatch(error)%7Bconsole.error('ID%20Scanner%20Bookmarklet%20Error%3A'%2Cerror)%3Balert('Error%20generating%20CSV%3A%20'%2Berror.message)%3B%7D%7D)()%3B%0A%7D)()%3B